---
import Layout from "@layouts/Layout.astro";

/**
 * Importazione delle immagini per le copertine dei report, in modo da
 * avere le immagini disponibili come oggetti e garantendo quindi integrità qualora
 * le immagini non siano disponibili nel file system. In tal caso, verrà generato
 * un errore di compilazione, evitando che il sito venga pubblicato con immagini mancanti
 * o non valide.
 * Questo approccio consente di gestire le immagini in modo più robusto e sicuro
 * all'interno del progetto Astro, garantendo che tutte le risorse siano correttamente
 * referenziate e disponibili al momento della compilazione.
 */
import ars24 from "@assets/covers/annual-report-summary-2024.webp";
import sin24 from "@assets/covers/sustainability-in-action-2024.webp";
import sp2529 from "@assets/covers/sustainability-plan-2025-2029.webp";
import Breadcrumb from "@components/Breadcrumb.astro";

const title = "Archivio";

/**
 * Definizione dei report disponibili nell'archivio.
 * Ogni report ha un titolo, una descrizione, un'immagine di copertura e un URL
 * per accedere alla pagina di dettaglio del report.
 * Questo array di oggetti viene utilizzato per generare dinamicamente la lista
 * dei report nella pagina di archivio.
 */
const reports: {
  title: string;
  description: string;
  cover: ImageMetadata;
  url: string;
}[] = [
  {
    title: "Sintesi di Bilancio",
    description:
      "Documento di sintesi indirizzato agli stakeholder relativa alla crescita solida, innovazione digitale, sostenibilità, sicurezza globale.",
    cover: ars24,
    url: "reports/annual-report-summary-2024",
  },
  {
    title: "Sustainability in Action",
    description:
      "Cambiamenti economici, geopolitici, ambientali e sociali in atto a livello globale rendono il processo di transizione sostenibile non più rinviabile",
    cover: sin24,
    url: "reports/sustainability-in-action-2024",
  },
  {
    title: "Sustainability Plan",
    description:
      "Il piano per la sostenibilità 2025-2029 definisce le linee guida per il raggiungimento degli obiettivi in termini sociali, governance, sicurezza e ambiente",
    cover: sp2529,
    url: "reports/sustainability-plan-2025-2029",
  },
];
---

<Layout
  title={title}
  description="Consulta tutti i report sulla sostenibilità pubblicati"
>
  <main>
    <Breadcrumb
      path={[{ text: "Pagina iniziale", href: "/" }, { text: title }]}
    />

    <h1>Archivio</h1>
    <section class="card">
      <p>
        In questa pagina troverai l'archivio dei report ESG pubblicati da
        Leonardo SpA e disponibili per la pubblica consultazione.
      </p>
      <p>
        Scegli il report di tuo interesse, quindi clicca su di esso per accedere
        alla pagina di dettaglio del report dove potrai leggere una breve
        descrizione, un riassunto fornito dalla IA e avere la possibilità di
        consultarlo integralmente o scaricarlo in locale sul tuo dispositivo.
      </p>
    </section>
    <section>
      <ul class="rapporti">
        <!-- Generazione dinamica degli elementi della lista che contengono i report -->
        {
          reports.map((report) => (
            <li>
              <a href={report.url}>
                <img src={report.cover.src} alt="" />
                <h2>{report.title}</h2>
                <p>{report.description}</p>
              </a>
            </li>
          ))
        }
      </ul>
    </section>
  </main>
</Layout>

<style lang="scss">
  :root {
    /** Siccome il border-radius dev'essere lo stesso in più elementi,
    è stata definita una variabile CSS3, evitando quindi l'utilizzo dei
    famigerati "magic numbers" all'interno del codice */
    --border-radius: 0.5rem;
  }

  .rapporti {
    margin-top: 1rem;
  }

  .rapporti li {
    list-style: none;
    margin-right: 2rem;
    margin-bottom: 2rem;
    padding: 0;
    display: inline-block;
  }

  .rapporti li a {
    display: inline-block;
    color: black;
    text-decoration: none;
    border: 1px solid black;
    background-color: white;
    border-radius: var(--border-radius);
    width: 260px;
    transition: 0.2s ease-in-out;

    /** Questo approccio consente di applicare stili specifici per la modalità scura
    senza dover duplicare il codice per ogni elemento. */
    @media (prefers-color-scheme: dark) {
      color: white;
      background-color: #333;
      border-color: #555;
    }
  }

  /** Quando l'utente pone il cursore sopra un report, oppure ci arriva
  usando il tasto TAB della tastiera, il report viene evidenziato ed
  ingrandito */
  .rapporti li a:hover,
  .rapporti li a:focus-visible {
    background-color: #810013;
    color: white;
    transform: scale(1.05);
  }

  .rapporti li img {
    width: 100%;
    border-top-left-radius: var(--border-radius);
    border-top-right-radius: var(--border-radius);
  }

  .rapporti li h2 {
    font-size: 1.3em;
    padding: 0 0.5rem 0.2rem;
  }

  .rapporti li p {
    padding: 0 0.5rem 0.8rem;
  }
</style>
